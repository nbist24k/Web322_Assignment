<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Categories</title>
    <%- include('partials/head') %>
    <style>
      .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        padding: 1rem 0;
      }
      .category-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        height: 100%;
      }
      .category-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
      }
      .category-content {
        padding: 2rem;
      }
      .category-title {
        color: #2d3748;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }
      .category-description {
        color: #4a5568;
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 1.5rem;
      }
      .category-id {
        display: inline-block;
        padding: 0.3rem 0.8rem;
        background: #e9f2fe;
        color: #4a90e2;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 500;
        margin-bottom: 1rem;
      }
      .alert {
        border-radius: 8px;
        border: none;
        padding: 1rem 1.5rem;
        margin-bottom: 2rem;
      }
      .alert-danger {
        background-color: #fee2e2;
        color: #dc2626;
      }
      .alert-info {
        background-color: #e9f2fe;
        color: #4a90e2;
      }
    </style>
  </head>
  <body class="d-flex-container">
    <%- include('partials/nav') %>

    <div class="container mt-5 content">
      <h1 class="mb-4">Categories</h1>

      <% if (error) { %>
      <div class="alert alert-danger" role="alert"><%= error %></div>
      <% } %> <% if (!categories || categories.length === 0) { %>
      <div class="alert alert-info" role="alert">No categories available.</div>
      <% } else { %>
      <div class="categories-grid">
        <% categories.forEach(category => { %>
        <div class="category-card">
          <div class="category-content">
            <div class="category-id">Category <%= category.id %></div>
            <h2 class="category-title"><%= category.name %></h2>
            <p class="category-description"><%= category.description %></p>
            <a
              href="/articles?category=<%= category.id %>"
              class="btn btn-primary"
            >
              View Articles
            </a>
          </div>
        </div>
        <% }); %>
      </div>
      <% } %>
    </div>

    <%- include('partials/footer') %>
  </body>
</html>
